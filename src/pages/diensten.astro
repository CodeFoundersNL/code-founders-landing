---
import * as path from 'node:path';
import BlurLayout from '../layouts/blur.astro';
import Dienst from '../components/dienst.astro';

const mds = Astro.fetchContent('../{content,pages}/diensten/**/*.md');
const diensten = mds.filter(md => path.dirname(md.file.pathname).endsWith('pages/diensten'));
const [content] = mds.filter(md => path.dirname(md.file.pathname).endsWith('content/diensten'));
---
<style>
  h1 {
    text-align: center;
    font-size: 5rem;
    line-height: 5rem;
    padding: 10rem 0 5rem 0;
  }

  .subtitle {
    font-size: 1.5rem;
    line-height: 2.5rem;
    text-align: center;
    max-width: 60ch;
    margin: 0 auto 5rem auto;
  }

  .diensten {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 5rem;
    max-width: var(--page-max-width);
    margin: 0 auto 10rem auto;
  }

  .link {
    text-decoration: none;
    color: white;
  }
</style>
<link rel="stylesheet" href="/style/diensten.css" />
<BlurLayout>
<h1>{content.heading}</h1>
{content.subtitle ? <p class="subtitle">{content.subtitle}</p> : ''}
<div class="diensten">
  {diensten.map(dienst =>
    <a class="link" href={dienst.url}>
      <Dienst content={dienst} class="dienst"></Dienst>
    </a>
  )}
</div>
</BlurLayout>