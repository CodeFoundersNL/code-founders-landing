---
import * as path from 'node:path';
import BlurLayout from '../layouts/blur.astro';
import Dienst from '../components/dienst.astro';

const mds = Astro.fetchContent('../{content,pages}/diensten/**/*.md');
const diensten = mds.filter(md => path.dirname(md.file.pathname).endsWith('pages/diensten'));
const [content] = mds.filter(md => path.dirname(md.file.pathname).endsWith('content/diensten'));
---
<style>
  .diensten {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 5rem;
    max-width: var(--page-max-width);
    margin: 0 auto 10rem auto;
  }

  .link {
    text-decoration: none;
    color: white;
  }
</style>
<link rel="stylesheet" href="/style/diensten.css" />
<BlurLayout subtitle={content.subtitle} heading={content.heading}>
<div class="diensten">
  {diensten.map(dienst =>
    <a class="link" href={dienst.url}>
      <Dienst content={dienst} class="dienst"></Dienst>
    </a>
  )}
</div>
</BlurLayout>