---
import * as path from 'node:path';
let title = 'Code.Founders_';

// Create timestamp for deploy previews to show when last built/updated
const timestamp = process.env.DEPLOY_PREVIEW === 'true' ?
    new Intl.DateTimeFormat(
        "nl-NL",
        {
            year: "numeric",
            month: "short",
            day: "numeric",
            hour: "2-digit",
            minute: "2-digit",
            timeZoneName: "short",
        }
    ).format(new Date()) : null;

const mds = Astro.fetchContent('../content/*/*.md');
const founders = mds.filter(md => path.dirname(md.file.pathname).endsWith('founders'));
const content = mds.filter(md => path.dirname(md.file.pathname).endsWith('home'));
---
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width">
    <meta name="description" content="Code.Founders. If you can code, you can do anything.">
    <title>{title}</title>

    <link rel="icon" type="image/x-icon" href="/favicon.ico" />

    <link rel="stylesheet" href="/style/global.css">
    <link rel="stylesheet" href="/style/home.css">
</head>
<body>
    {timestamp ?
        <span style="color: white; position: absolute; top: 65px; left: 8px;">
            Preview last updated: {timestamp}
        </span>
        : ''
    }
    <header>
        <div class="hamburger">
            <div class="hamburger-icon"></div>
        </div>
        <a class="header-logo" aria-label="home"><img src="/assets/images/logo/logo.png" /></a>
        <div class="search-placeholder"></div>
    </header>
    <main>
        <section id="intro">
            <div class="content">{content[0].astro.html}</div>
        </section>

        <section id="opsomming">
            <div class="content">
                <!-- <div class="background-blur"></div> -->
                {content[1].astro.html}
            </div>
        </section>

        <section id="methodiek">
            <div class="img-laptop"></div>
            <div class="content">{content[2].astro.html}</div>
        </section>

        <section id="founders">
            {founders[1].astro.html}
        </section>

        <section id="alles_is_code">
            <h2>
            <span class="green">Alles is </span><span class="strike">liefde</span><br>
            <span>Code</span><span class="green">.</span>
            </h2>
        </section>
    </main>
    <footer>
        <div class="socials-container">
            <img alt="linkedin" rel="noopener" target="_blank" src="/assets/images/socials/li.png" />
            <img alt="twitter" rel="noopener" target="_blank" src="/assets/images/socials/tw.png" />
            <img alt="facebook" rel="noopener" target="_blank" src="/assets/images/socials/fb.png" />
        </div>
        <div class="reference-links">
            <a>Wordt een Code.Founder_</a>
            <a>Bekijk je docenten</a>
            <a>Stel je vraag</a>
            <a>Samenwerken</a>
        </div>
        <a class="footer-logo" aria-label="Home">
            <img src="/assets/images/logo/mark-green.jpg" />
        </a>
    </footer>
</body>
</html>
