---
import * as path from 'node:path';
import BaseLayout from '../layouts/base.astro'
import Founder from '../components/founder.astro';

const content = Astro.fetchContent('../content/**/*.md');
const founders = content.filter(md => path.dirname(md.file.pathname).endsWith('founders')).sort((a,b) => {
  const orderA = a.order || 9999;
  const orderB = b.order || 9999;
  return orderA - orderB;
});
const [team] = content.filter(md => path.dirname(md.file.pathname).endsWith('team'));
---
<style>
  h1 {
    text-align: center;
    font-size: 5rem;
    line-height: 5rem;
    padding: 10rem 0;
  }

  .team {
    position: relative;
    z-index: 1;
  }

  .team::before {
    content: '';
    position: absolute;
    width: min(100%, 1600px);
    height: 550px;
    border-radius: 50%;
    top: 150px;
    opacity: 0.6;
    background: linear-gradient( var(--color-primary-green) 50%, var(--color-primary-blue) 50% );
    filter: blur(225px);
    left: 33%;
  }

  .relative-wrapper {
    position: relative;
  }

  .founders {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    gap: 5rem;
    max-width: var(--page-max-width);
    margin: 0 auto 10rem auto;
  }

  @media (min-width: 601px) {
    .founders {
      padding: 0 1rem;
    }
  }
</style>
<BaseLayout>
<div class="team">

<div class="relative-wrapper">
  <h1>{team.heading}</h1>
</div>
<div class="founders">
    {founders.map(founder => (
        <Founder founder={founder} />
    ))}
</div>
</div>
</BaseLayout>